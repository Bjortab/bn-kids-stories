<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BN-Kids-Stories</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- Overlay spinner -->
  <div id="loadingOverlay" class="overlay hidden">
    <div class="spinner"></div>
    <p>Skapar kapitel...</p>
  </div>

  <header class="hero"></header>

  <main class="container">

    <!-- FORM -->
    <section class="card">
      <h2>Skapa eller fortsätt din bok</h2>
      <form id="story-form">

        <div class="field">
          <label for="childName">Barnets namn</label>
          <input id="childName" type="text" />
        </div>

        <div class="field">
          <label for="childAge">Ålder</label>
          <input id="childAge" type="number" />
        </div>

        <div class="field">
          <label for="bookTitle">Bokens titel</label>
          <input id="bookTitle" type="text" />
        </div>

        <div class="field">
          <label for="chapterPrompt">Vad ska kapitlet handla om?</label>
          <textarea id="chapterPrompt"></textarea>
        </div>

        <div class="button-row">
          <button type="button" id="newBookBtn" class="primary">
            Starta ny bok (Kapitel 1)
          </button>

          <button type="button" id="continueBookBtn" class="secondary">
            Fortsätt boken (Kapitel 2, 3, …)
          </button>
        </div>
      </form>
    </section>

    <!-- STORY OUTPUT -->
    <section class="card">
      <h2>Din kapitelbok</h2>
      <pre id="storyOutput" class="story-box">
Här kommer din berättelse att visas. ✨
      </pre>

      <div class="button-row">
        <button id="ttsPlayBtn" class="secondary">Lyssna på senaste kapitlet</button>
        <button id="resetStoryBtn" class="danger">Rensa denna bok på den här enheten</button>
      </div>
    </section>

    <!-- ACCORDIONS -->
    <section>
      <div class="accordion">
        <button class="accordion-header">Hur BN-Kids-Stories v1 funkar ▸</button>
        <div class="accordion-content">
          <p>Du fyller i barnets namn, ålder och hittar på en boktitel.
          BN-Kids-Stories sparar kapitel lokalt i din webbläsare (enhet).
          När du fortsätter skickar BN-Kids-Stories dina tidigare kapitel till StoryEngine som skapar nästa kapitel.</p>
        </div>
      </div>

      <div class="accordion">
        <button class="accordion-header">Safety Policy ▸</button>
        <div class="accordion-content">
          <p>Systemet kontrollerar barnvänlighet (8–15 år), säker ton och undviker svordomar eller skyddade karaktärer.</p>
        </div>
      </div>

      <div class="accordion">
        <button class="accordion-header">FAQ ▸</button>
        <div class="accordion-content">
          <p><strong>Var sparas boken?</strong> Lokalt på den här enheten.</p>
          <p><strong>Kan jag radera boken?</strong> Ja, tryck på “Rensa denna bok på den här enheten”.</p>
        </div>
      </div>
    </section>

    <!-- TOAST -->
    <div id="toast" class="toast">Meddelande</div>

  </main>

  <script src="app.js"></script>
</body>
</html>
